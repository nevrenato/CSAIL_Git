<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Csail git</title>
  </head>

	<nav>
		<li><a href="../index.html">Home</a></li>
		<li><a href="alloy.html">The Alloy Tool</a></li>
		<li><a href="introduction.html">Introduction to Git</a></li>
		<li><a href="gitworkflow.html">The Git WorkFlow</a></li>
		<li><a href="object_model.html">The Git Object Model</a></li>
		<li><a href="operations.html">Git Operations</a></li>
	<ul class="expanded">
		<li><a href="Addrm.html"> Git Add and Remove</a></li>
		<li><a href="CCommit.html"> Git Commit </a></li>
		<li><a href="Branch.html">Git Branch</a> </li>
		<li><a href="Checkout.html"> Git Checkout</a> </li>
		<li><a href="Merge.html"> Git Merge </a></li>
	</ul>
	<li><a href="Conclusion.html"> Conclusion </a></li>
	<li><a href="ABugInGit.html"> Appendix </a></li> 

	</nav>


  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>The truth about Git</h1>
          <h2>Add and remove </h2>
        </header>

        <hr>

        <section id="main_content">
        	
	<h3>Description</h3>
	<p>	The operations add and remove are used to 
	add and remove content from index. As we have said before the 
	index contains all the files and contents to be added on the next
	commit. </p><p>Git add 
	operation does not simply refers of adding a file to the file. 
	Instead it refers of adding a file with a certain content to the index. 
	If we have a file in the index and we modify it on the working directory, 
	for this modification to be visible on the next commit, 
	the file must be added again to the index.</p><p>The remove operation removes a 
	file from index, so it will not be present in the next commit and will stop 
	being tracked. The removed file besides of being removed from index, 
	will also be removed from the working directory (if it still exists there).
	</p>
	<h3> Pre-conditions </h3>
	<p>	The add operation has only one pre-condition. 
	The file has to be in the working directory. It means 
	that any file that is in the working directory can be always added to index
	.Relatively to the remove operation there are a 
	few conditions that have to be satisfied for the remove operation be 
	performed, which are: 
		<ol><li><p>The file that is being removed is currently in
			index</p></li>
			<li><p>
			The file that is being removed is in the current 
			commit (the commit pointed by the branch identified by HEAD) 
			exactly with the same content. </p></li></ol>
	<p>		The first restriction is quite obvious. 
		It is not possible to remove a file if it does not exists. 
		The last restriction exists to avoid the accidental deletion of a file’s contents. 
		It is possible to have a file in the index with a certain content that does 
		not exists in the repository and since the remove operation removes the 
		file from the index and from the working directory, the content would be lost.
		</p>

	<h3> Result </h3>
	<p>	After performing the add operation there is something 
	that will be always observed. The file will be in index. 
	Besides, the add operation is also used to resolve conflicts. If a file was marked 
	as unmerged, when performing an add operation, the file with the current 
	content is added to index and the unmerged mark is removed. A 
	file is marked as unmerged when it results from a conflict in a 
	merge operation. More details about merged and un- merged files will be 
	given later. </p><p> 
	The result from performing the remove operation is that 
	the file is not anymore in the index. 
	If the file was marked as unmerged, remove resolves the conflict by deleting the file.
	</p>

	<h3> Examples </h3>
	<p> Figure 4, shows a simple case of adding a file to the index. 
	It can be seen, that no changes are made in the repository nor in the working directory. The only 
	effect is that the index will contain the new file.
	<!-- A image block -->
	<p>
	<img src = "../images/add1.png" width=200 height=400 label="Adding a file"/> 
	<font size="1" style="float:right;"> Figure 4 </font>
	</p>	
	<p> The dots means that the content is kept. </p><p> Figure 5, contains 
	the case of updating the content of a file. Assuming 
	that the file is already in the index, changing its content in the 
	working directory, will not change the content in the index. We need to explicitly add the 
	file with the new content in the index.</p>
		<!-- A image block -->
	<p>
	<img src = "../images/update1.png" width=250 height=600 label="Updating a file"/> 
	<font size="1" style="float:right;"> Figure 5 </font>
	</p>	
	<p>
	Now lets loot at the remove operation. Figures 6,7 show a simple 
	case of removing a file from the index. 
	As the reader can see the file will be removed from the index, 
	but also from the working directory. There are no changes on the repository.
	</p>

	<!-- A image block -->
	<p>
	<img src = "../images/remove1.png" width=320 height=400 label="Removing
	a file"/> 
	<font size="1" style="float:right;"> Figure 6 </font>
	</p>
	<!-- A image block -->
	<p>
	<img src = "../images/remove2.png" width=320 height=400 label="Removing
	a file (alternative)"/> 
	<font size="1" style="float:right;"> Figure 7 </font>
	</p>	
        </section>

        <footer>
	<p>  Csail git is maintained by Cláudio Lourenço and Renato Neves. 
	Project supervised by Alcino Cunha, Eunsuk Kang and José Barros.</p>	
	This page was generated by <a href="http://pages.github.com">GitHub Pages</a>.
	<br>
	Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>
	and altered by  Cláudio Lourenço and Renato Neves.
        </footer>

      </div>
    </div>
  </body>
